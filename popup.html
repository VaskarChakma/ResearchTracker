<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Research Paper Tracker</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="header-top">
        <h1>Research Tracker</h1>
        <button class="icon-btn" id="settingsBtn" title="Settings">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M12 1v6m0 6v6m0-12a9 9 0 0 1 9 9 9 9 0 0 1-9 9 9 9 0 0 1-9-9 9 9 0 0 1 9-9z"></path>
            <path d="M16.24 7.76l-2.12 2.12m-4.24 4.24l-2.12 2.12m10.48-10.48l-2.12 2.12M7.76 16.24l-2.12 2.12"></path>
          </svg>
        </button>
      </div>
      
      <!-- Stats -->
      <div class="stats">
        <div class="stat-item">
          <div class="stat-number" id="totalCount">0</div>
          <div class="stat-label">Total</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" id="unreadCount">0</div>
          <div class="stat-label">Unread</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" id="readingCount">0</div>
          <div class="stat-label">Reading</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" id="readCount">0</div>
          <div class="stat-label">Read</div>
        </div>
      </div>
    </header>

    <!-- Search and Filter -->
    <div class="search-section">
      <div class="search-box">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
        </svg>
        <input type="text" id="searchInput" placeholder="Search papers...">
      </div>
      
      <div class="filter-tabs">
        <button class="filter-tab active" data-status="all">All</button>
        <button class="filter-tab" data-status="unread">Unread</button>
        <button class="filter-tab" data-status="reading">Reading</button>
        <button class="filter-tab" data-status="read">Read</button>
        <button class="filter-tab" data-status="to-revisit">To Revisit</button>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
      <button class="action-btn" id="saveCurrentBtn">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
        </svg>
        Save Current Page
      </button>
      <button class="action-btn" id="viewDashboardBtn">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="7" height="7"></rect>
          <rect x="14" y="3" width="7" height="7"></rect>
          <rect x="14" y="14" width="7" height="7"></rect>
          <rect x="3" y="14" width="7" height="7"></rect>
        </svg>
        Dashboard
      </button>
    </div>

    <!-- Papers List -->
    <div class="papers-section">
      <div class="papers-header">
        <h3>Recent Papers</h3>
        <button class="text-btn" id="exportBtn">Export</button>
      </div>
      
      <div id="papersList" class="papers-list">
        <!-- Papers will be loaded here -->
      </div>
      
      <div id="emptyState" class="empty-state">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="12" y1="18" x2="12" y2="12"></line>
          <line x1="9" y1="15" x2="15" y2="15"></line>
        </svg>
        <h3>No papers saved yet</h3>
        <p>Start saving research papers by clicking "Save Current Page" or using the context menu on any academic website.</p>
      </div>
    </div>
  </div>

  <!-- Export Modal -->
  <div id="exportModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Export Papers</h2>
        <button class="close-btn" id="closeExportModal">&times;</button>
      </div>
      <div class="modal-body">
        <p>Choose export format:</p>
        <div class="export-options">
          <button class="export-option-btn" data-format="json">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path>
              <polyline points="13 2 13 9 20 9"></polyline>
            </svg>
            <span>JSON</span>
          </button>
          <button class="export-option-btn" data-format="csv">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
              <polyline points="14 2 14 8 20 8"></polyline>
            </svg>
            <span>CSV</span>
          </button>
          <button class="export-option-btn" data-format="bibtex">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
              <polyline points="14 2 14 8 20 8"></polyline>
            </svg>
            <span>BibTeX</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
